
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta
            name="description"
            content="Documentation for the Savvy API"
        >
    <title>Savvy API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #5e5d83;
  font-style: italic;
}
.highlight .cm {
  color: #5e5d83;
  font-style: italic;
}
.highlight .c1 {
  color: #5e5d83;
  font-style: italic;
}
.highlight .cp {
  color: #465457;
  font-weight: bold;
}
.highlight .cs {
  color: #465457;
  font-weight: bold;
  font-style: italic;
}
.highlight .err {
  color: #f8f8f2;
  background-color: #403d3d;
}
.highlight .gi {
  color: #a6e22e;
}
.highlight .gd {
  color: #f92672;
}
.highlight .ge {
  color: #1b1d1e;
  font-style: italic;
}
.highlight .gr {
  color: #f92672;
}
.highlight .gt {
  color: #f92672;
}
.highlight .gh {
  color: #403d3d;
}
.highlight .go {
  color: #403d3d;
}
.highlight .gp {
  color: #66d9ef;
}
.highlight .gs {
  font-weight: bold;
}
.highlight .gu {
  color: #465457;
}
.highlight .k, .highlight .kv {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kc {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kd {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kp {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kr {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kt {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kn {
  color: #f92672;
  font-weight: bold;
}
.highlight .ow {
  color: #f92672;
  font-weight: bold;
}
.highlight .o {
  color: #f92672;
  font-weight: bold;
}
.highlight .mf {
  color: #af87ff;
}
.highlight .mh {
  color: #af87ff;
}
.highlight .il {
  color: #af87ff;
}
.highlight .mi {
  color: #af87ff;
}
.highlight .mo {
  color: #af87ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #af87ff;
}
.highlight .se {
  color: #af87ff;
}
.highlight .sb {
  color: #d7d787;
}
.highlight .sc {
  color: #d7d787;
}
.highlight .sd {
  color: #d7d787;
}
.highlight .s2 {
  color: #d7d787;
}
.highlight .sh {
  color: #d7d787;
}
.highlight .si {
  color: #d7d787;
}
.highlight .sx {
  color: #d7d787;
}
.highlight .sr {
  color: #d7d787;
}
.highlight .s1 {
  color: #d7d787;
}
.highlight .ss {
  color: #d7d787;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #d7d787;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
  font-weight: bold;
}
.highlight .nd {
  color: #a6e22e;
  font-weight: bold;
}
.highlight .ne {
  color: #a6e22e;
  font-weight: bold;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
  font-weight: bold;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .bp {
  color: #f8f8f2;
}
.highlight .nb {
  color: #f8f8f2;
}
.highlight .ni {
  color: #f8f8f2;
}
.highlight .nn {
  color: #f8f8f2;
}
.highlight .vc {
  color: #f8f8f2;
}
.highlight .vg {
  color: #f8f8f2;
}
.highlight .vi {
  color: #f8f8f2;
}
.highlight .nv, .highlight .vm {
  color: #f8f8f2;
}
.highlight .w {
  color: #f8f8f2;
}
.highlight .nl {
  color: #f8f8f2;
  font-weight: bold;
}
.highlight .nt {
  color: #f92672;
}
.highlight {
  color: #f8f8f2;
  background-color: #1b1d1e;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-dfcee990.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-e123a1c2.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b12a2749.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-fa00295d.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#onboardings" class="toc-h1 toc-link" data-title="Onboardings">Onboardings</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#onboarding-object" class="toc-h2 toc-link" data-title="Onboarding object">Onboarding object</a>
                  </li>
                  <li>
                    <a href="#create-onboarding" class="toc-h2 toc-link" data-title="Create onboarding">Create onboarding</a>
                  </li>
                  <li>
                    <a href="#create-onboarding-bank-account" class="toc-h2 toc-link" data-title="Create onboarding bank account">Create onboarding bank account</a>
                  </li>
                  <li>
                    <a href="#start-full-kyc" class="toc-h2 toc-link" data-title="Start Full KYC">Start Full KYC</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#amcs" class="toc-h1 toc-link" data-title="AMCs">AMCs</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#amc-object" class="toc-h2 toc-link" data-title="AMC object">AMC object</a>
                  </li>
                  <li>
                    <a href="#get-all-amcs" class="toc-h2 toc-link" data-title="Get all AMCs">Get all AMCs</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#funds" class="toc-h1 toc-link" data-title="Funds">Funds</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#fund-object" class="toc-h2 toc-link" data-title="Fund object">Fund object</a>
                  </li>
                  <li>
                    <a href="#get-all-funds" class="toc-h2 toc-link" data-title="Get all funds">Get all funds</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#accounts" class="toc-h1 toc-link" data-title="Accounts">Accounts</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#account-object" class="toc-h2 toc-link" data-title="Account object">Account object</a>
                  </li>
                  <li>
                    <a href="#show-account" class="toc-h2 toc-link" data-title="Show account">Show account</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#deposits" class="toc-h1 toc-link" data-title="Deposits">Deposits</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#deposit-object" class="toc-h2 toc-link" data-title="Deposit object">Deposit object</a>
                  </li>
                  <li>
                    <a href="#get-deposits" class="toc-h2 toc-link" data-title="Get deposits">Get deposits</a>
                  </li>
                  <li>
                    <a href="#show-deposit" class="toc-h2 toc-link" data-title="Show deposit">Show deposit</a>
                  </li>
                  <li>
                    <a href="#create-deposit" class="toc-h2 toc-link" data-title="Create deposit">Create deposit</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#withdrawals" class="toc-h1 toc-link" data-title="Withdrawals">Withdrawals</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#withdrawal-object" class="toc-h2 toc-link" data-title="Withdrawal object">Withdrawal object</a>
                  </li>
                  <li>
                    <a href="#get-withdrawals" class="toc-h2 toc-link" data-title="Get withdrawals">Get withdrawals</a>
                  </li>
                  <li>
                    <a href="#show-withdrawal" class="toc-h2 toc-link" data-title="Show withdrawal">Show withdrawal</a>
                  </li>
                  <li>
                    <a href="#create-withdrawal" class="toc-h2 toc-link" data-title="Create withdrawal">Create withdrawal</a>
                  </li>
                  <li>
                    <a href="#verify-withdrawal-otp" class="toc-h2 toc-link" data-title="Verify withdrawal OTP">Verify withdrawal OTP</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#one-click-checkout-occ-investment-links" class="toc-h1 toc-link" data-title="One-click Checkout (OCC) / Investment links">One-click Checkout (OCC) / Investment links</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#occ-object" class="toc-h2 toc-link" data-title="OCC object">OCC object</a>
                  </li>
                  <li>
                    <a href="#create-occ-lumpsum" class="toc-h2 toc-link" data-title="Create OCC (Lumpsum)">Create OCC (Lumpsum)</a>
                  </li>
                  <li>
                    <a href="#create-occ-sip" class="toc-h2 toc-link" data-title="Create OCC (SIP)">Create OCC (SIP)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#systematic-investment-plans" class="toc-h1 toc-link" data-title="Systematic Investment Plans">Systematic Investment Plans</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#sip-object" class="toc-h2 toc-link" data-title="SIP object">SIP object</a>
                  </li>
                  <li>
                    <a href="#get-sips" class="toc-h2 toc-link" data-title="Get sips">Get sips</a>
                  </li>
                  <li>
                    <a href="#show-sip" class="toc-h2 toc-link" data-title="Show sip">Show sip</a>
                  </li>
                  <li>
                    <a href="#create-sip" class="toc-h2 toc-link" data-title="Create sip">Create sip</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#systematic-withdrawal-plans" class="toc-h1 toc-link" data-title="Systematic Withdrawal Plans">Systematic Withdrawal Plans</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#swp-object" class="toc-h2 toc-link" data-title="SWP Object">SWP Object</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#systematic-transfer-plans" class="toc-h1 toc-link" data-title="Systematic Transfer Plans">Systematic Transfer Plans</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#stp-object" class="toc-h2 toc-link" data-title="STP Object">STP Object</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#risk-profiling" class="toc-h1 toc-link" data-title="Risk Profiling">Risk Profiling</a>
          </li>
          <li>
            <a href="#reports" class="toc-h1 toc-link" data-title="Reports">Reports</a>
          </li>
          <li>
            <a href="#frontend-sdks" class="toc-h1 toc-link" data-title="Frontend SDKs">Frontend SDKs</a>
          </li>
          <li>
            <a href="#webhooks" class="toc-h1 toc-link" data-title="Webhooks">Webhooks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#webhook-structure" class="toc-h2 toc-link" data-title="Webhook structure">Webhook structure</a>
                  </li>
                  <li>
                    <a href="#events" class="toc-h2 toc-link" data-title="Events">Events</a>
                  </li>
                  <li>
                    <a href="#webhook-authentication" class="toc-h2 toc-link" data-title="Webhook authentication">Webhook authentication</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#enums" class="toc-h1 toc-link" data-title="Enums">Enums</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#annual-income-codes" class="toc-h2 toc-link" data-title="Annual Income Codes">Annual Income Codes</a>
                  </li>
                  <li>
                    <a href="#gender-codes" class="toc-h2 toc-link" data-title="Gender Codes">Gender Codes</a>
                  </li>
                  <li>
                    <a href="#occupation-codes" class="toc-h2 toc-link" data-title="Occupation Codes">Occupation Codes</a>
                  </li>
                  <li>
                    <a href="#marital-status-codes" class="toc-h2 toc-link" data-title="Marital Status Codes">Marital Status Codes</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js">
  mermaid.initialize({startOnLoad:true});
</script>
<h1 id='introduction'>Introduction</h1>
<p>Welcome to the Savvy API! You can use our API to access Savvy API endpoints, which helps you create any mutual funds usecase you like. Savvy is your one stop shop, no signups for any other external services are required. </p>

<p>We have language bindings in Shell only for now. We don&#39;t have readymade clients as of now, but they&#39;ll be coming soon! You can view shell (curl) code examples in the dark area to the right.</p>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>To authorize, you must pass a Base64 encoded combination of your access key and password. Use this code:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
<span class="c"># encoded_key = Base64.encode("ACCESS_KEY:PASSWORD")</span>
curl <span class="s2">"https://surface.thesavvyapp.in/secure/tokens"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Basic &lt;encoded_key&gt;"</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">Response:</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcdeabcdeacbde"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Use above token as Bearer token for secure paths:</span>
curl <span class="s2">"api_endpoint_here"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer &lt;token&gt;"</span>
</code></pre></div>
<p>Savvy has 2 ways of authenticating, depending on how the API is being used:</p>

<ol>
<li><p><strong>Secure paths using Basic auth + Bearer token:</strong> Using your API keys, you can request a new Bearer token that will give you access to partner level APIs (all investors under your partner account).
You can register a new Savvy API key combination at our <a href="http://developers.savvyapp.in">developer portal</a> or send us an <a href="mailto:hello@savvyapp.in">email</a> at hello@savvyapp.in.</p></li>
<li><p><strong>Individual paths using Bearer token:</strong> Using your secure token in the previous step, you can request a Bearer token that will access to investor specific APIs. Refer to the investors section for information on how to get a token for an individual investor.</p></li>
</ol>

<p>Savvy expects a Bearer token to be included in all API requests to the server in a header as follows:</p>

<p><code>Authorization: Bearer &lt;token&gt;</code></p>

<aside class="notice">
You must replace <code>token</code> with your own secure token or individual token.
</aside>
<h1 id='onboardings'>Onboardings</h1>
<p>Most of our APIs require an onboarding to be done before communicating with them. An onboarding is essentially a KYC (Know Your Customer) workflow which authorizes a person to conduct a mutual fund transaction. The workflow is the following:</p>

<div class="mermaid">
  graph TD;
  create_onboarding(Create onboarding with pan number and date of birth)-- Existing investor -->submit_bank_details(Submit bank details)
  create_onboarding-- Not an existing investor -->full_kyc(Full KYC);
  submit_bank_details-->submit_fatca(Submit FATCA info if required);
  submit_fatca-->create_transaction(Move ahead to create a transaction);
  full_kyc-->submit_pan(Submit picture of PAN card);
  submit_pan-->submit_address(Submit picture of an address proof);
  submit_address-->submit_signature(Submit picture of signature);
  submit_signature-->submit_selfie(Submit selfie image);
  submit_selfie-->verify_details(Verify details so far);
  verify_details-->submit_video(Submit video with OTP);
  submit_video-->aadhaar_sign(Aadhaar OTP verification);
  aadhaar_sign-->submit_full_kyc(Submit for verification);
</div>

<aside class="notice">
If doing Full KYC, you should wait for verification confirmation via webhook before creating transactions. While it is technically possible for you to accept transactions straight after full KYC submission, the user experience would be poor in case of rejections.
</aside>
<h2 id='onboarding-object'>Onboarding object</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td><code>String</code> Unique identifier of the onboarding object</td>
</tr>
<tr>
<td>pan_number</td>
<td><code>String</code> Customer PAN number. Note that the pan number is overwritten when parsed from the pan card.</td>
</tr>
<tr>
<td>existing_investor</td>
<td><code>Boolean</code> If this customer is an existing investor in the KRA databases. Use this field to determine if you to do a full KYC for the customer or not.</td>
</tr>
<tr>
<td>name</td>
<td><code>String</code> Customer&#39;s full name.</td>
</tr>
<tr>
<td>date_of_birth</td>
<td><code>String</code> Format DD/MM/YYYY. Note that the dob is overwritten when parsed from the pan card.</td>
</tr>
<tr>
<td>email</td>
<td><code>String</code> Customer&#39;s email address.</td>
</tr>
<tr>
<td>phone_number</td>
<td><code>String</code> Customer&#39;s phone number with +91 prefix.</td>
</tr>
<tr>
<td>kyc_status</td>
<td>One of: <code>[&quot;success&quot;, &quot;failure&quot;, &quot;pending&quot;]</code> Result of full KYC verification post submission</td>
</tr>
<tr>
<td>pan_card_image_url</td>
<td><code>URL String</code> The pan card image submitted</td>
</tr>
<tr>
<td>fathers_name</td>
<td><code>String</code> Father&#39;s name from the pan card</td>
</tr>
<tr>
<td>address_proof_image_url</td>
<td><code>URL String</code> The address proof image submittted</td>
</tr>
<tr>
<td>address_proof_type</td>
<td>One of: <code>[&quot;aadhaar&quot;, &quot;voter_id&quot;, &quot;passport&quot;, &quot;license&quot;]</code></td>
</tr>
<tr>
<td>address</td>
<td><code>String</code> Customer&#39;s street address.</td>
</tr>
<tr>
<td>city</td>
<td><code>String</code> Customer&#39;s city.</td>
</tr>
<tr>
<td>pincode</td>
<td><code>String</code> Customer&#39;s pincode.</td>
</tr>
<tr>
<td>signature_image_url</td>
<td><code>URL String</code> The signature image submitted</td>
</tr>
<tr>
<td>selfie_image_url</td>
<td><code>URL String</code> The selfie image submitted</td>
</tr>
<tr>
<td>cancelled_cheque_url</td>
<td><code>URL String</code> The cancelled cheque image submitted</td>
</tr>
<tr>
<td>video_url</td>
<td><code>URL String</code> The selfie video submitted</td>
</tr>
<tr>
<td>annual_income</td>
<td><code>String</code> Annual income code (refer to enum list)</td>
</tr>
<tr>
<td>gender</td>
<td><code>String</code> Gender code (refer to enum list)</td>
</tr>
<tr>
<td>occupation</td>
<td><code>String</code> Occupation code (refer to enum list)</td>
</tr>
<tr>
<td>marital_status</td>
<td><code>String</code> Marital status code (refer to enum list)</td>
</tr>
</tbody></table>
<h2 id='create-onboarding'>Create onboarding</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">body</span><span class="w">
</span><span class="p">{</span><span class="w"> </span><span class="nl">"onboarding"</span><span class="p">:</span><span class="w"> 
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"pan_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABCDE1234C"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://surface.thesavvyapp.in/onboardings"</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer &lt;token&gt;"</span> <span class="se">\</span>
  <span class="nt">-d</span> body

</code></pre></div>
<blockquote>
<p>The above command returns the onboarding JSON object with the name filled in if the customer is an existing investor.</p>
</blockquote>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST http://surface.thesavvyapp.in/onboardings</code></p>
<h3 id='parameters'>Parameters</h3>
<aside class="notice">
Note the <code>onboarding</code>root key
</aside>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pan_number</td>
<td>true</td>
<td><code>String</code> Customer PAN number</td>
</tr>
</tbody></table>
<h2 id='create-onboarding-bank-account'>Create onboarding bank account</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">body</span><span class="w">
</span><span class="p">{</span><span class="w"> </span><span class="nl">"onboarding"</span><span class="p">:</span><span class="w"> 
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"account_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0012345678901"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ifsc_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HDFC0000873"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://surface.thesavvyapp.in/onboardings/&lt;UUID&gt;/bank_account"</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer &lt;token&gt;"</span> <span class="se">\</span>
  <span class="nt">-d</span> body

</code></pre></div>
<blockquote>
<p>The above command returns the onboarding JSON object</p>
</blockquote>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST http://surface.thesavvyapp.in/onboardings/&lt;UUID&gt;/bank_account</code></p>
<h3 id='json-parameters'>JSON Parameters</h3>
<aside class="notice">
Note the <code>onboarding</code>root key
</aside>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account_number</td>
<td>true</td>
<td><code>String</code> A Valid bank account number</td>
</tr>
<tr>
<td>ifsc_code</td>
<td>true</td>
<td><code>String</code> A valid IFSC code</td>
</tr>
</tbody></table>
<h2 id='start-full-kyc'>Start Full KYC</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">body</span><span class="w">
</span><span class="p">{</span><span class="w"> </span><span class="nl">"onboarding"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"batman@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bruce Wayne"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+919009012345"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://surface.thesavvyapp.in/onboardings/&lt;UUID&gt;/full_kyc"</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer &lt;token&gt;"</span> <span class="se">\</span>
  <span class="nt">-d</span> body
</code></pre></div>
<blockquote>
<p>The above command returns the onboarding JSON object</p>
</blockquote>

<p>This endpoint prepares the onboarding object for a full KYC</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST http://surface.thesavvyapp.in/onboardings/&lt;UUID&gt;/full_kyc</code></p>
<h3 id='json-parameters-2'>JSON Parameters</h3>
<aside class="notice">
Note the <code>onboarding</code>root key
</aside>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td><code>String</code> Customer&#39;s name</td>
</tr>
<tr>
<td>email</td>
<td><code>String</code> Customer&#39;s email</td>
</tr>
<tr>
<td>phone_number</td>
<td><code>String</code> Customer&#39;s phone number</td>
</tr>
</tbody></table>
<h1 id='amcs'>AMCs</h1>
<p>This API gives you a list of supported AMCs by the Savvy API. This list remains relatively static, but we are constantly adding AMCs, so we recommend having some mechanism of fetching this list every so often. A monthly update might be ideal, but this is up to you.</p>
<h2 id='amc-object'>AMC object</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td><code>String</code> Name of the AMC.</td>
</tr>
<tr>
<td>code</td>
<td><code>String</code> Operational code of the AMC. This code must be submitted in API requests, <strong>not</strong> the name.</td>
</tr>
</tbody></table>
<h2 id='get-all-amcs'>Get all AMCs</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://surface.thesavvyapp.in/amcs"</span> <span class="se">\</span>
  <span class="nt">-X</span> GET <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer &lt;token&gt;"</span>
</code></pre></div>
<blockquote>
<p>The above command returns an array of AMC JSON objects.</p>
</blockquote>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET http://surface.thesavvyapp.in/amcs</code></p>
<h1 id='funds'>Funds</h1>
<p>This API gives you lists of supported mutual funds, by AMC. There is also support for NFOs, along with their timelines. Please note that NFOs are updated 1-2 days before the launch date.</p>
<h2 id='fund-object'>Fund object</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td><code>String</code> Name of the fund.</td>
</tr>
<tr>
<td>active</td>
<td><code>Boolean</code> Whether the fund is currently accepting purchases from customers.</td>
</tr>
<tr>
<td>nav</td>
<td><code>Decimal</code> Current value of a unit of this fund.</td>
</tr>
<tr>
<td>code</td>
<td><code>String</code> Global unique identifier of this fund. This code must be submitted in API requests, <strong>not</strong> the name.</td>
</tr>
</tbody></table>
<h2 id='get-all-funds'>Get all funds</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://surface.thesavvyapp.in/funds?amc_code=code"</span> <span class="se">\</span>
  <span class="nt">-X</span> GET <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer &lt;token&gt;"</span>

</code></pre></div>
<blockquote>
<p>The above command returns an array of Fund JSON objects.</p>
</blockquote>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET http://surface.thesavvyapp.in/funds</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amc_code</td>
<td>true</td>
<td><code>String</code> Code the AMC from the AMC list API.</td>
</tr>
</tbody></table>
<h1 id='accounts'>Accounts</h1>
<p>For most usecases, the accounts API is a pull-only API. Accounts are created asynchronously; when a purchase transaction is successful, a new account number (Folio number in the MF world) is allocated. You should be listening to webhooks to listen for account creations.</p>
<h2 id='account-object'>Account object</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td><code>String</code> Unique identifier of the account.</td>
</tr>
<tr>
<td>amc_code</td>
<td><code>String</code> Code of the AMC which this account is of.</td>
</tr>
<tr>
<td>amc_name</td>
<td><code>String</code> Name of the AMC which this account is of.</td>
</tr>
<tr>
<td>amount_deposited</td>
<td><code>Integer</code> Original amount deposited.</td>
</tr>
<tr>
<td>amount_withdrawn</td>
<td><code>Decimal</code> Amount withdrawn.</td>
</tr>
<tr>
<td>account_value</td>
<td><code>Map</code> Fund code =&gt; Current investment amount mapping.</td>
</tr>
<tr>
<td>units</td>
<td><code>Map</code> Fund code =&gt; Units mapping.</td>
</tr>
<tr>
<td>holding_mode</td>
<td><code>Enum: [&quot;SI&quot;]</code> Only Single mode is supported as of now.</td>
</tr>
</tbody></table>
<h2 id='show-account'>Show account</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://surface.thesavvyapp.in/accounts/&lt;UUID&gt;"</span> <span class="se">\</span>
  <span class="nt">-X</span> GET <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer &lt;token&gt;"</span>
</code></pre></div>
<blockquote>
<p>The above command returns a account JSON object.</p>
</blockquote>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>GET http://surface.thesavvyapp.in/accounts/&lt;UUID&gt;</code></p>
<h1 id='deposits'>Deposits</h1>
<p>The deposits API describes how to create a mutual fund purchase transaction. This API can only be accessed post the onboarding flow. The workflow for creating and completing a purchase is:</p>

<div class="mermaid">
  graph TD;
  create_deposit(Create deposit with amount and fund details)-->redirect_user(Redirect user to payments page)
  redirect_user-- Failure -->user_failure(Your failure page);
  redirect_user-- Success-->user_success(Your success page);
  user_success-->listen(Listen for transaction updates via webhook);
</div>
<h2 id='deposit-object'>Deposit object</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td><code>String</code> Unique identifier of the deposit.</td>
</tr>
<tr>
<td>account_uuid</td>
<td><code>String</code> Account which the deposit is part of.</td>
</tr>
<tr>
<td>fund_code</td>
<td><code>String</code> Code of the fund invested in.</td>
</tr>
<tr>
<td>fund_name</td>
<td><code>String</code> Name of the fund invested in.</td>
</tr>
<tr>
<td>amount</td>
<td><code>Integer</code> Original amount of the investment.</td>
</tr>
<tr>
<td>current_amount</td>
<td><code>Decimal</code> Current value of the investment.</td>
</tr>
<tr>
<td>units</td>
<td><code>Decimal</code> Units allocated for the investment.</td>
</tr>
<tr>
<td>status</td>
<td><code>Enum: created, payment_made, submitted_to_rta, completed, error</code> Status of the investment.</td>
</tr>
<tr>
<td>status_description</td>
<td><code>String</code> Reason in case of failure / rejections.</td>
</tr>
<tr>
<td>reinvest_mode</td>
<td><code>Enum: payout: &#39;N&#39;, reinvestment: &#39;Y&#39;, growth: &#39;Z&#39;, bonus: &#39;B&#39;</code> What should happen with any dividend that is paid out.</td>
</tr>
<tr>
<td>payment_link</td>
<td><code>String</code> <strong>Only applicable for create API</strong> URL to which to take the user for payment checkout.</td>
</tr>
<tr>
<td>partner_transaction_id</td>
<td><code>String</code> Your ID associated with the transaction.</td>
</tr>
<tr>
<td>user_completed_payment_at</td>
<td><code>Datetime</code> Time at which payment was completed by the user.</td>
</tr>
<tr>
<td>transferred_to_amc_at</td>
<td><code>Datetime</code> Time at which the payment was transferred to the AMC.</td>
</tr>
<tr>
<td>created_at</td>
<td><code>Datetime</code> Time at which the deposit was created.</td>
</tr>
<tr>
<td>sip_uuid</td>
<td><code>String</code> Identifier of the SIP that the deposit is part of.</td>
</tr>
<tr>
<td>stp_uuid</td>
<td><code>String</code> Identifier of the STP that the deposit is part of</td>
</tr>
</tbody></table>
<h2 id='get-deposits'>Get deposits</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://surface.thesavvyapp.in/deposits?account_uuid=&lt;UUID&gt;"</span> <span class="se">\</span>
  <span class="nt">-X</span> GET <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer &lt;token&gt;"</span>
</code></pre></div>
<blockquote>
<p>The above command returns an array of deposit JSON objects.</p>
</blockquote>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>GET http://surface.thesavvyapp.in/deposits?account_uuid=&lt;UUID&gt;</code></p>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account_uuid</td>
<td>true</td>
<td><code>String</code> All deposits associated with a account</td>
</tr>
</tbody></table>
<h2 id='show-deposit'>Show deposit</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://surface.thesavvyapp.in/deposits/&lt;UUID&gt;"</span> <span class="se">\</span>
  <span class="nt">-X</span> GET <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer &lt;token&gt;"</span>
</code></pre></div>
<blockquote>
<p>The above command returns a deposit JSON object.</p>
</blockquote>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>GET http://surface.thesavvyapp.in/deposits/&lt;UUID&gt;</code></p>
<h2 id='create-deposit'>Create deposit</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">body</span><span class="w">
</span><span class="p">{</span><span class="w"> </span><span class="nl">"deposit"</span><span class="p">:</span><span class="w"> 
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fund_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"account_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aaaaa-bbbb-cccc-dddd"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"redirect_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment_redirect"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://surface.thesavvyapp.in/deposits"</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer &lt;token&gt;"</span> <span class="se">\</span>
  <span class="nt">-d</span> body

</code></pre></div>
<blockquote>
<p>The above command returns the deposit JSON object</p>
</blockquote>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>POST http://surface.thesavvyapp.in/deposits</code></p>
<h3 id='parameters-2'>Parameters</h3>
<aside class="notice">
Note the <code>deposit</code>root key
</aside>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>true</td>
<td><code>Integer</code> Amount to be invested</td>
</tr>
<tr>
<td>fund_code</td>
<td>true</td>
<td><code>Date</code> Code of the fund to be invested in</td>
</tr>
<tr>
<td>redirect_url</td>
<td>true</td>
<td><code>String</code> Where to direct the customer after payment. A field called <code>status</code> (as a query param) in the redirect URL will be available to indicate success or failure.</td>
</tr>
<tr>
<td>account_uuid</td>
<td>false</td>
<td><code>String</code> If the deposit has to be created in an existing account.</td>
</tr>
<tr>
<td>partner_transaction_id</td>
<td>false</td>
<td><code>String</code> Your custom ID to identify this transaction.</td>
</tr>
</tbody></table>

<aside class="warning">If account uuid is not specified, a new account will be created for the customer. Make sure this is the behavior you want. However, for first time customers, not passing the account id is the expected behavior.</aside>
<h1 id='withdrawals'>Withdrawals</h1>
<p>The withdrawals API describes how to create a mutual fund redemption transaction. This API can only be accessed post the onboarding flow. The workflow for creating and completing a redemption is:</p>

<div class="mermaid">
  graph TD;
  create_withdrawal(Create withdrawal with amount and fund details)-->verify_otp(Verify OTP on registered phone number and/or email)
  verify_otp-- Failure -->verify_otp;
  verify_otp-- Success-->listen(Listen for transaction updates via webhook);
</div>
<h2 id='withdrawal-object'>Withdrawal object</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td><code>String</code> Unique identifier of the withdrawal.</td>
</tr>
<tr>
<td>account_uuid</td>
<td><code>String</code> Account which the withdrawal is part of.</td>
</tr>
<tr>
<td>fund_code</td>
<td><code>String</code> Code of the fund invested in.</td>
</tr>
<tr>
<td>fund_name</td>
<td><code>String</code> Name of the fund invested in.</td>
</tr>
<tr>
<td>amount</td>
<td><code>Integer</code> Amount to be withdrawn.</td>
</tr>
<tr>
<td>units</td>
<td><code>Decimal</code> Units withdrawn for the transaction.</td>
</tr>
<tr>
<td>status</td>
<td><code>Enum: created, otp_complete, submitted_to_rta, completed, error</code> Status of the withdrawal.</td>
</tr>
<tr>
<td>status_description</td>
<td><code>String</code> Reason in case of failure / rejections.</td>
</tr>
<tr>
<td>partner_transaction_id</td>
<td><code>String</code> Your ID associated with the transaction.</td>
</tr>
<tr>
<td>created_at</td>
<td><code>Datetime</code> Time at which the withdrawal was created.</td>
</tr>
<tr>
<td>swp_uuid</td>
<td><code>String</code> Identifier of the SIP that the withdrawal is part of.</td>
</tr>
<tr>
<td>stp_uuid</td>
<td><code>String</code> Identifier of the STP that the withdrawal is part of</td>
</tr>
</tbody></table>
<h2 id='get-withdrawals'>Get withdrawals</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://surface.thesavvyapp.in/withdrawals?account_uuid=&lt;UUID&gt;"</span> <span class="se">\</span>
  <span class="nt">-X</span> GET <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer &lt;token&gt;"</span>
</code></pre></div>
<blockquote>
<p>The above command returns an array of withdrawal JSON objects.</p>
</blockquote>
<h3 id='http-request-10'>HTTP Request</h3>
<p><code>GET http://surface.thesavvyapp.in/withdrawals?account_uuid=&lt;UUID&gt;</code></p>
<h3 id='url-parameters-3'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account_uuid</td>
<td>true</td>
<td><code>String</code> All withdrawals associated with a account</td>
</tr>
</tbody></table>
<h2 id='show-withdrawal'>Show withdrawal</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://surface.thesavvyapp.in/withdrawals/&lt;UUID&gt;"</span> <span class="se">\</span>
  <span class="nt">-X</span> GET <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer &lt;token&gt;"</span>
</code></pre></div>
<blockquote>
<p>The above command returns a withdrawal JSON object.</p>
</blockquote>
<h3 id='http-request-11'>HTTP Request</h3>
<p><code>GET http://surface.thesavvyapp.in/withdrawals/&lt;UUID&gt;</code></p>
<h2 id='create-withdrawal'>Create withdrawal</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">body</span><span class="w">
</span><span class="p">{</span><span class="w"> </span><span class="nl">"withdrawal"</span><span class="p">:</span><span class="w"> 
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fund_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"account_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aaaaa-bbbb-cccc-dddd"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"partner_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xyv-abc"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://surface.thesavvyapp.in/withdrawals"</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer &lt;token&gt;"</span> <span class="se">\</span>
  <span class="nt">-d</span> body

</code></pre></div>
<blockquote>
<p>The above command returns the withdrawal JSON object</p>
</blockquote>
<h3 id='http-request-12'>HTTP Request</h3>
<p><code>POST http://surface.thesavvyapp.in/withdrawals</code></p>

<p>On success, an OTP is sent on both the users&#39; registered email and phone number. This OTP has to be verified by the user and sent to us on API.</p>
<h3 id='parameters-3'>Parameters</h3>
<aside class="notice">
Note the <code>withdrawal</code>root key
</aside>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>true</td>
<td><code>Decimal</code> Amount to be invested</td>
</tr>
<tr>
<td>fund_code</td>
<td>true</td>
<td><code>Date</code> Code of the fund to be invested in</td>
</tr>
<tr>
<td>account_uuid</td>
<td>true</td>
<td><code>String</code> If the deposit has to be created in an existing account.</td>
</tr>
<tr>
<td>partner_transaction_id</td>
<td>false</td>
<td><code>String</code> Your custom ID to identify this transaction.</td>
</tr>
</tbody></table>
<h2 id='verify-withdrawal-otp'>Verify withdrawal OTP</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">body</span><span class="w">
</span><span class="p">{</span><span class="w"> </span><span class="nl">"withdrawal"</span><span class="p">:</span><span class="w"> 
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"otp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://surface.thesavvyapp.in/withdrawals/&lt;UUID&gt;/verify_otp"</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer &lt;token&gt;"</span> <span class="se">\</span>
  <span class="nt">-d</span> body

</code></pre></div>
<blockquote>
<p>The above command returns the withdrawal JSON object</p>
</blockquote>
<h3 id='http-request-13'>HTTP Request</h3>
<p><code>POST http://surface.thesavvyapp.in/withdrawals/&lt;UUID&gt;/verify_otp</code></p>

<p>On success, the status of the withdrawal will change to <code>otp_complete</code>. The OTP verification will expire in 5 minutes, and the OTP can be resent in case of delivery failures after 30 seconds of first attempt. </p>
<h3 id='parameters-4'>Parameters</h3>
<aside class="notice">
Note the <code>withdrawal</code>root key
</aside>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>otp</td>
<td>true</td>
<td><code>String</code> The user inputted OTP</td>
</tr>
</tbody></table>
<h1 id='one-click-checkout-occ-investment-links'>One-click Checkout (OCC) / Investment links</h1>
<p>This API describes how to create instant investment links. This API can handle any scenario (existing folio, existing investor but no folio, and non-existing investor). This comes as a hosted solution under your logo.</p>
<h2 id='occ-object'>OCC object</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account_uuid</td>
<td><code>String</code> Account associated with the investment.</td>
</tr>
<tr>
<td>masked_folio_number</td>
<td><code>String</code> Masked folio number, last 3 digits only.</td>
</tr>
<tr>
<td>fund_name</td>
<td><code>String</code> Name of the fund invested in.</td>
</tr>
<tr>
<td>amc_name</td>
<td><code>String</code> Name of AMC for the fund invested in.</td>
</tr>
<tr>
<td>checkout_type</td>
<td><code>Enum: one_time, ongoing</code> Whether the checkout type is a lumpsum or a SIP.</td>
</tr>
<tr>
<td>start_date</td>
<td><code>Date</code> Start date of the SIP.</td>
</tr>
<tr>
<td>end_date</td>
<td><code>Date</code> End date of the SIP.</td>
</tr>
<tr>
<td>frequency</td>
<td><code>Enum: monthly, weekly, daily, ad-hoc</code> Frequency of debits</td>
</tr>
<tr>
<td>amount</td>
<td><code>Integer</code> Amount of lumpsum or monthly instalment of SIP</td>
</tr>
<tr>
<td>deposit_request_id</td>
<td><code>String</code> Payment request ID of the investment.</td>
</tr>
<tr>
<td>deposit_status</td>
<td><code>Enum: created, payment_made, submitted_to_rta, completed, error</code> Status of the investment.</td>
</tr>
<tr>
<td>partner</td>
<td><code>Object</code> Partner details. See next table.</td>
</tr>
<tr>
<td>sip_request_id</td>
<td><code>String</code> Payment returnsuest ID of the SIP.</td>
</tr>
<tr>
<td>sip_mandate_status</td>
<td><code>Enum: pending, accepted_by_user, completed, error, cancelled</code> Status of the SIP auto-debit.</td>
</tr>
<tr>
<td>short_link</td>
<td><code>URL string</code> This URL can be shared with the user to go to for transaction completion.</td>
</tr>
</tbody></table>
<h2 id='create-occ-lumpsum'>Create OCC (Lumpsum)</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">body</span><span class="w">
</span><span class="p">{</span><span class="w"> </span><span class="nl">"one_click_checkout"</span><span class="p">:</span><span class="w"> 
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"onboarding"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"James Bond"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9800011111"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pan_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABCDE1234C"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"folio_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amc_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MOS"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SI"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"bank_account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"account_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000111199999"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ifsc_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HDFC0000001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bank_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HDFC BANK LTD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"deposit"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mutual_fund_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://surface.thesavvyapp.in/secure/one_click_checkouts"</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-d</span> body
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer &lt;token&gt;"</span>
</code></pre></div>
<blockquote>
<p>The above command returns a OCC JSON object.</p>
</blockquote>
<h3 id='http-request-14'>HTTP Request</h3>
<p><code>POST https://surface.thesavvyapp.in/secure/one_click_checkouts</code></p>
<h3 id='parameters-5'>Parameters</h3>
<aside class="notice">
Note the <code>one_click_checkout</code>root key
</aside>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onboarding</td>
<td>false</td>
<td><code>Object</code> Investor details</td>
</tr>
<tr>
<td>account</td>
<td>false</td>
<td><code>Object</code> Account details</td>
</tr>
<tr>
<td>bank_account</td>
<td>false</td>
<td><code>Object</code> Bank account details</td>
</tr>
<tr>
<td>deposit</td>
<td>true</td>
<td><code>Object</code> Transaction details</td>
</tr>
</tbody></table>

<p>Onboarding</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>true</td>
<td><code>String</code> Name of investor</td>
</tr>
<tr>
<td>phone_number</td>
<td>true</td>
<td><code>String</code> Phone number of investor</td>
</tr>
<tr>
<td>email</td>
<td>true</td>
<td><code>String</code> Email of investor</td>
</tr>
<tr>
<td>pan_number</td>
<td>true</td>
<td><code>String</code> PAN of investor</td>
</tr>
</tbody></table>

<p>Account</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>folio_number</td>
<td>true</td>
<td><code>String</code> Folio number of investor</td>
</tr>
<tr>
<td>amc_code</td>
<td>true</td>
<td><code>String</code> AMC code of the folio</td>
</tr>
<tr>
<td>type</td>
<td>true</td>
<td><code>String</code> Holding pattern of folio</td>
</tr>
</tbody></table>

<p>Bank Account</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account_number</td>
<td>true</td>
<td><code>String</code> Bank account number</td>
</tr>
<tr>
<td>ifsc_code</td>
<td>true</td>
<td><code>String</code> IFSC code</td>
</tr>
<tr>
<td>bank_name</td>
<td>true</td>
<td><code>String</code> Name of bank</td>
</tr>
</tbody></table>

<p>Deposit</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>true</td>
<td><code>Integer</code> Amount of the investment</td>
</tr>
<tr>
<td>mutual_fund_id</td>
<td>true</td>
<td><code>String</code> Fund ID</td>
</tr>
</tbody></table>
<h2 id='create-occ-sip'>Create OCC (SIP)</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">body</span><span class="w">
</span><span class="p">{</span><span class="w"> </span><span class="nl">"one_click_checkout"</span><span class="p">:</span><span class="w"> 
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"onboarding"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"James Bond"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9800011111"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pan_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABCDE1234C"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"folio_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amc_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MOS"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SI"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"bank_account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"account_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000111199999"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ifsc_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HDFC0000001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bank_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HDFC BANK LTD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"sip"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mutual_fund_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sip_day"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number_of_installments"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://surface.thesavvyapp.in/secure/one_click_checkouts/create_sip"</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-d</span> body <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer &lt;token&gt;"</span>
</code></pre></div>
<blockquote>
<p>The above command returns a OCC JSON object.</p>
</blockquote>
<h3 id='http-request-15'>HTTP Request</h3>
<p><code>POST https://surface.thesavvyapp.in/secure/one_click_checkouts/create_sip</code></p>
<h3 id='parameters-6'>Parameters</h3>
<aside class="notice">
Note the <code>one_click_checkout</code>root key
</aside>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onboarding</td>
<td>false</td>
<td><code>Object</code> Investor details</td>
</tr>
<tr>
<td>account</td>
<td>false</td>
<td><code>Object</code> Account details</td>
</tr>
<tr>
<td>bank_account</td>
<td>false</td>
<td><code>Object</code> Bank account details</td>
</tr>
<tr>
<td>sip</td>
<td>true if deposit is null</td>
<td><code>Object</code> Transaction details</td>
</tr>
</tbody></table>

<p>Onboarding</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>true</td>
<td><code>String</code> Name of investor</td>
</tr>
<tr>
<td>phone_number</td>
<td>true</td>
<td><code>String</code> Phone number of investor</td>
</tr>
<tr>
<td>email</td>
<td>true</td>
<td><code>String</code> Email of investor</td>
</tr>
<tr>
<td>pan_number</td>
<td>true</td>
<td><code>String</code> PAN of investor</td>
</tr>
</tbody></table>

<p>Account</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>folio_number</td>
<td>true</td>
<td><code>String</code> Folio number of investor</td>
</tr>
<tr>
<td>amc_code</td>
<td>true</td>
<td><code>String</code> AMC code of the folio</td>
</tr>
<tr>
<td>type</td>
<td>true</td>
<td><code>String</code> Holding pattern of folio</td>
</tr>
</tbody></table>

<p>Bank Account</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account_number</td>
<td>true</td>
<td><code>String</code> Bank account number</td>
</tr>
<tr>
<td>ifsc_code</td>
<td>true</td>
<td><code>String</code> IFSC code</td>
</tr>
<tr>
<td>bank_name</td>
<td>true</td>
<td><code>String</code> Name of bank</td>
</tr>
</tbody></table>

<p>SIP</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>true</td>
<td><code>Integer</code></td>
</tr>
<tr>
<td>mutual_fund_id</td>
<td>true</td>
<td><code>String</code> Fund ID</td>
</tr>
<tr>
<td>sip_day</td>
<td>false</td>
<td><code>Integer</code> Day of the month that the SIP should be triggered</td>
</tr>
<tr>
<td>number_of_installments</td>
<td>false</td>
<td><code>Integer</code> Number of instalments</td>
</tr>
</tbody></table>
<h1 id='systematic-investment-plans'>Systematic Investment Plans</h1>
<p>This API describes how to create a SIP transaction. This API can only be accessed post the onboarding flow. The workflow for creating and registering an SIP is:</p>

<div class="mermaid">
  graph TD;
  create_sip(Create SIP with amount and fund details)-->create_mandate(Create E-Nach / UPI Mandate)
  create_mandate -->redirect_user(Redirect user to bank page);
  redirect_user-- Failure-->user_failure(Your failure page);
  user_failure -->create_mandate; 
  redirect_user-- Success -->user_success(Your success page);
  user_success -->listen(Listen for mandate updates via webhook);
</div>
<h2 id='sip-object'>SIP object</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td><code>String</code> Unique identifier of the withdrawal.</td>
</tr>
<tr>
<td>account_uuid</td>
<td><code>String</code> Account which the SIP is part of.</td>
</tr>
<tr>
<td>fund_code</td>
<td><code>String</code> Code of the fund invested in.</td>
</tr>
<tr>
<td>fund_name</td>
<td><code>String</code> Name of the fund invested in.</td>
</tr>
<tr>
<td>start_date</td>
<td><code>Date</code> Start date of the SIP.</td>
</tr>
<tr>
<td>end_date</td>
<td><code>Date</code> End date of the SIP.</td>
</tr>
<tr>
<td>frequency</td>
<td><code>Enum: monthly, weekly, daily, ad-hoc</code> Frequency of debits</td>
</tr>
<tr>
<td>amount</td>
<td><code>Integer</code> Amount to be deposited at each installment.</td>
</tr>
<tr>
<td>payment_link</td>
<td><code>String</code> <strong>Only applicable for create API</strong> URL to which to take the user for mandate checkout.</td>
</tr>
<tr>
<td>redirect_url</td>
<td><code>String</code> Where to direct the customer after payment. A field called <code>status</code> (as a query param) in the redirect URL will be available to indicate success or failure.</td>
</tr>
<tr>
<td>active</td>
<td><code>Boolean</code> Whether the SIP is actively debiting.</td>
</tr>
<tr>
<td>partner_transaction_id</td>
<td><code>String</code> Your ID associated with the transaction.</td>
</tr>
<tr>
<td>created_at</td>
<td><code>Datetime</code> Time at which the SIP was created.</td>
</tr>
</tbody></table>
<h2 id='get-sips'>Get sips</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://surface.thesavvyapp.in/sips?account_uuid=&lt;UUID&gt;"</span> <span class="se">\</span>
  <span class="nt">-X</span> GET <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer &lt;token&gt;"</span>
</code></pre></div>
<blockquote>
<p>The above command returns an array of sip JSON objects.</p>
</blockquote>
<h3 id='http-request-16'>HTTP Request</h3>
<p><code>GET http://surface.thesavvyapp.in/sips?account_uuid=&lt;UUID&gt;</code></p>
<h3 id='url-parameters-4'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account_uuid</td>
<td>true</td>
<td><code>String</code> All sips associated with a account</td>
</tr>
</tbody></table>
<h2 id='show-sip'>Show sip</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://surface.thesavvyapp.in/sips/&lt;UUID&gt;"</span> <span class="se">\</span>
  <span class="nt">-X</span> GET <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer &lt;token&gt;"</span>
</code></pre></div>
<blockquote>
<p>The above command returns a sip JSON object.</p>
</blockquote>
<h3 id='http-request-17'>HTTP Request</h3>
<p><code>GET http://surface.thesavvyapp.in/sips/&lt;UUID&gt;</code></p>
<h2 id='create-sip'>Create sip</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">body</span><span class="w">
</span><span class="p">{</span><span class="w"> </span><span class="nl">"sip"</span><span class="p">:</span><span class="w"> 
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fund_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"account_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aaaaa-bbbb-cccc-dddd"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"partner_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xyv-abc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30/01/2022"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30/12/2022"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"frequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"monthly"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"redirect_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/redirect"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://surface.thesavvyapp.in/sips"</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer &lt;token&gt;"</span> <span class="se">\</span>
  <span class="nt">-d</span> body

</code></pre></div>
<blockquote>
<p>The above command returns the sip JSON object</p>
</blockquote>
<h3 id='http-request-18'>HTTP Request</h3>
<p><code>POST http://surface.thesavvyapp.in/sips</code></p>

<p>On success, a payment url is sent. The user must be redirected to this url to sign the e-nach mandate required for periodic auto-debits. If for some reason, the mandate fails to get signed, you can retry the mandate signing for a period of 24 hours, post which a new mandate must be created.</p>
<h3 id='parameters-7'>Parameters</h3>
<aside class="notice">
Note the <code>sip</code>root key
</aside>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>true</td>
<td><code>Decimal</code> Amount to be invested</td>
</tr>
<tr>
<td>fund_code</td>
<td>true</td>
<td><code>Date</code> Code of the fund to be invested in</td>
</tr>
<tr>
<td>account_uuid</td>
<td>true</td>
<td><code>String</code> If the deposit has to be created in an existing account.</td>
</tr>
<tr>
<td>partner_transaction_id</td>
<td>false</td>
<td><code>String</code> Your custom ID to identify this transaction.</td>
</tr>
<tr>
<td>start_date</td>
<td>true</td>
<td><code>Date</code> Start date of the SIP.</td>
</tr>
<tr>
<td>end_date</td>
<td>true</td>
<td><code>Date</code> End date of the SIP.</td>
</tr>
<tr>
<td>frequency</td>
<td>true</td>
<td><code>Enum: monthly, weekly, daily, ad-hoc</code> Frequency of debits</td>
</tr>
<tr>
<td>redirect_url</td>
<td>true</td>
<td><code>URL String</code> Where to direct the customer after payment. A field called <code>status</code> (as a query param) in the redirect URL will be available to indicate success or failure.</td>
</tr>
</tbody></table>
<h1 id='systematic-withdrawal-plans'>Systematic Withdrawal Plans</h1>
<p>This API describes how to create a SWP transaction. This API can only be accessed post the onboarding flow. The workflow for creating and registering an SWP is:</p>

<div class="mermaid">
  graph TD;
  create_swp(Create SWP with amount and fund details)-->verify_otp(Verify OTP on registered phone number and/or email)
  verify_otp-- Failure -->verify_otp;
  verify_otp-- Success-->listen(Listen for transaction updates via webhook);
</div>
<h2 id='swp-object'>SWP Object</h2>
<p>Coming Soon!</p>
<h1 id='systematic-transfer-plans'>Systematic Transfer Plans</h1>
<p>This API describes how to create a STP transaction, for periodic transfers from one fund to another in the same or different accounts. This API can only be accessed post the onboarding flow. The workflow for creating and registering an STP is:</p>

<div class="mermaid">
  graph TD;
  create_stp(Create STP with amount and fund details)-->verify_otp(Verify OTP on registered phone number and/or email)
  verify_otp-- Failure -->verify_otp;
  verify_otp-- Success-->listen(Listen for transaction updates via webhook);
</div>
<h2 id='stp-object'>STP Object</h2>
<p>Coming soon!</p>
<h1 id='risk-profiling'>Risk Profiling</h1>
<p>To improve the user experience in terms of fund selection, we offer a risk profiling API that takes customer profile information + a couple of risk related questions as inputs to output a maximum of 4 funds. While designed by our in-house MF experts, this API is provided &quot;as-is&quot;, without any guarantees of correctness.</p>
<h1 id='reports'>Reports</h1>
<p>We offer aggregated reports accross multiple categories for easy reconciliation and customer viewing.</p>
<h1 id='frontend-sdks'>Frontend SDKs</h1>
<p>For non-distributors, we offer the ability to use readymade SDKs for offering mutual fund onboarding and transactions. This exposes no private data of the customer. Marketing and non-fintech usecases should use this.</p>

<p>We also offer SDKs for simplified purchase transactions. Instead of redirecting the user to another page for payments, the SDK will allow you to complete the transaction on your assets itself.</p>
<h1 id='webhooks'>Webhooks</h1>
<p>The webhooks API is an essential part of the Savvy API. There are several long running tasks and asynchronos activites that occur in the processing of onboardings and mutual fund transactions. For you to provide a good user experience, we offer webhooks that give you async updates about various activities you do via the Savvy API.</p>

<aside class="warning">
Webhooks are sent on a "best-effort" basis, and are sent at least once. That means you may receive the same webhook twice, so make sure to have idempotency built in. For example, when receiving a deposit created webhook, make sure you haven't already seen the uuid before! 
</aside>
<h2 id='webhook-structure'>Webhook structure</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td><code>String</code> Unique identifier of the withdrawal.</td>
</tr>
<tr>
<td>sent_at</td>
<td><code>Datetime</code> Time at which the SIP was created.</td>
</tr>
<tr>
<td>payload</td>
<td><code>JSON</code> Data sent as part of webhook.</td>
</tr>
<tr>
<td>signature</td>
<td><code>String</code> SHA265 signature of the JSON payload.</td>
</tr>
</tbody></table>
<h2 id='events'>Events</h2>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>deposit.created</code></td>
<td>Sent when a deposit is created</td>
</tr>
<tr>
<td><code>deposit.status.updated</code></td>
<td>Sent when a deposit status is updated. Use this for tracking success / failure of deposit transactions.</td>
</tr>
<tr>
<td><code>withdrawal.created</code></td>
<td>Sent when a withdrawal is created</td>
</tr>
<tr>
<td><code>withdrawal.status.updated</code></td>
<td>Sent when a withdrawal status is updated. Use this for tracking success / failure of withdrawal transactions.</td>
</tr>
</tbody></table>
<h2 id='webhook-authentication'>Webhook authentication</h2>
<p>To make sure that the webhook is coming from Savvy, we append a signature to all webhooks in the <code>signature</code> parameter. The signature is a HMAC-SHA256 hash of the payload JSON string using your secret key:</p>

<p><code>HMAC(&#39;sha256&#39;, secret_key, payload)</code></p>

<p>Make sure to verify this signature before using the payload.</p>
<h1 id='enums'>Enums</h1><h2 id='annual-income-codes'>Annual Income Codes</h2><h2 id='gender-codes'>Gender Codes</h2><h2 id='occupation-codes'>Occupation Codes</h2><h2 id='marital-status-codes'>Marital Status Codes</h2><h1 id='errors'>Errors</h1>
<p>The Savvy API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The API requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified API / object could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access an API with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The API requested has been removed from our servers.</td>
</tr>
<tr>
<td>418</td>
<td>I&#39;m a teapot.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re making too many requests! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
